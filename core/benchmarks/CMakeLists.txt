function (add_gr_benchmark BM_NAME)
    add_benchmark(${BM_NAME})
    target_link_libraries(${BM_NAME} PRIVATE gnuradio-core refl-cpp fmt gr-basic gr-testing)
endfunction()

add_gr_benchmark(bm_buffer)
add_gr_benchmark(bm_history_buffer)
add_gr_benchmark(bm_profiler)
add_gr_benchmark(bm_scheduler)
add_gr_benchmark(bm_node_api)
add_gr_benchmark(bm_fft)
target_link_libraries(bm_fft PRIVATE gr-fourier)

add_executable(bm_node_api_nosimd bm_node_api.cpp)
append_compiler_flags(bm_node_api_nosimd)
target_compile_options(bm_node_api_nosimd PRIVATE -DDISABLE_SIMD=1)
target_link_libraries(bm_node_api_nosimd PRIVATE gnuradio-options gnuradio-core refl-cpp fmt ut ut-benchmark gr-basic gr-testing)
